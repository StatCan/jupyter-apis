<lib-form-section title="Custom Notebook" i18n-title>
  <div class="flex-column">
    <mat-form-field
      class="wide"
      appearance="outline"
      *ngIf="parentForm?.value.serverType === 'jupyter'"
    >
      <!-- If readonly, then make it an input element instead of select -->
      <mat-label i18n>Image</mat-label>
      <mat-select
        placeholder="OCI Image"
        i18n-placeholder
        [formControl]="parentForm.get('image')"
      >
        <mat-option *ngFor="let img of images" [value]="img" [matTooltip]="img">
          {{ imageDisplayName(img) }}
        </mat-option>
      </mat-select>
      <mat-error i18n>Please provide an Image to use</mat-error>
    </mat-form-field>

    <mat-form-field
      class="wide"
      appearance="outline"
      *ngIf="parentForm?.value.serverType === 'group-one'"
    >
      <!-- If readonly, then make it an input element instead of select -->
      <mat-label i18n>Image</mat-label>
      <mat-select
        placeholder="OCI Image"
        i18n-placeholder
        [formControl]="parentForm.get('imageGroupOne')"
      >
        <mat-option
          *ngFor="let img of imagesGroupOne.options"
          [value]="img"
          [matTooltip]="img"
        >
          {{ imageDisplayName(img) }}
        </mat-option>
      </mat-select>
      <mat-error i18n>Please provide an Image to use</mat-error>
    </mat-form-field>

    <mat-form-field
      class="wide"
      appearance="outline"
      *ngIf="parentForm?.value.serverType === 'group-two'"
    >
      <!-- If readonly, then make it an input element instead of select -->
      <mat-label i18n>Image</mat-label>
      <mat-select
        placeholder="OCI Image"
        i18n-placeholder
        [formControl]="parentForm.get('imageGroupTwo')"
      >
        <mat-option
          *ngFor="let img of imagesGroupTwo.options"
          [value]="img"
          [matTooltip]="img"
        >
          {{ imageDisplayName(img) }}
        </mat-option>
      </mat-select>
      <mat-error i18n>Please provide an Image to use</mat-error>
    </mat-form-field>

    <mat-form-field
      class="wide"
      appearance="outline"
      *ngIf="parentForm?.value.serverType === 'group-three'"
    >
      <!-- If readonly, then make it an input element instead of select -->
      <mat-label i18n>Image</mat-label>
      <mat-select
        placeholder="OCI Image"
        [formControl]="parentForm.get('imageGroupThree')"
        i18n-placeholder
      >
        <mat-option
          *ngFor="let img of imagesGroupThree.options"
          [value]="img"
          [matTooltip]="img"
        >
          {{ imageDisplayName(img) }}
        </mat-option>
      </mat-select>
      <mat-error i18n> Please provide an Image to use </mat-error>
    </mat-form-field>

    <div class="flex-column">
      <mat-checkbox
        *ngIf="allowCustomImage"
        [formControl]="parentForm.get('customImageCheck')"
        (change)="onSelect($event)"
        i18n
        data-cy-form-input="customImageCheck"
      >
        Custom Image
      </mat-checkbox>

      <mat-form-field
        class="wide"
        appearance="outline"
        *ngIf="parentForm?.value.customImageCheck"
        data-cy-form-input="customImage"
      >
        <mat-label i18n>Custom Image</mat-label>
        <mat-hint i18n>
          The selected image will be evaluated against our allow-list. For more
          details on using your own custom images, follow the documentation at
          https://github.com/StatCan/aaw-contrib-containers.
        </mat-hint>
        <input
          matInput
          placeholder="Provide a custom Image"
          i18n-placeholder
          [formControl]="parentForm.get('customImage')"
          #cstmimg
        />
        <mat-error>{{ urlValidation() }}</mat-error>
      </mat-form-field>

      <!--AAW Removed. Deemed unecessary
            <div class="row">
              <mat-form-field class="column" appearance="outline">
                <mat-label i18n>Image pull policy</mat-label>
                <mat-select [formControl]="parentForm.get('imagePullPolicy')">
                  <mat-option value="Always" i18n="ImagePullPolicy: Always">
                    Always
                  </mat-option>
                  <mat-option
                    value="IfNotPresent"
                    i18n="ImagePullPolicy: IfNotPresent"
                  >
                    IfNotPresent
                  </mat-option>
                  <mat-option value="Never" i18n="ImagePullPolicy: Never">
                    Never
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
            -->
    </div>
  </div>
</lib-form-section>
